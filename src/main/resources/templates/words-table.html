<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8" >
    <title>–¢–∞–±–ª–∏—Ü–∞</title>
    <script th:src="@{/js/playSound.js}" defer></script>
</head>
<body>
  <h1 th:text="${category.name}"></h1>
  <h3 th:text="${category.description}"></h3>
  <div th:if="${#lists.isEmpty(views)}">
      <p>–°–ª–æ–≤ –≤ —ç—Ç–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –ø–æ–∫–∞ –Ω–µ—Ç</p>
  </div>
  <div th:unless="${#lists.isEmpty(views)}">
  <a th:href="@{/categories/{id}/start-training(id=${category.id})}"><button>–ù–∞—á–∞—Ç—å —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É</button></a>
  <table>
      <tbody>
      <tr th:each="view : ${views}">
          <div th:each="form, i : ${view.word.forms}">
              <td th:text="${form.content}"></td>
              <td th:text="${form.translation}"></td>
              <td th:if="${form.content == null}">
                  <button>–ù–µ—Ç —Ñ–æ—Ä–º—ã</button>
              </td>
              <td th:unless="${form.content == null}">
                  <div th:if="${form.isThereAudio}">
                      <audio th:src="@{/audio/{wordId}/{formIndex}(wordId=${view.word.id},formIndex=${i.index})}"
                             th:id="|audio-${view.word.id}-${i.index}|"
                             preload="none">
                      </audio>
                      <button th:onclick="|playAudio('audio-${view.word.id}-${i.index}')|"
                              th:text="|üîä${form.transcription}|">
                      </button>
                  </div>
                  <div th:unless="${form.isThereAudio}">
                      <button th:text="|${form.transcription}|"
                              disabled="true">
                      </button>
                  </div>

              </td>
          </div>

          <div th:if="${isAuth}">
              <td th:text="|${view.countRightAnswers}/${view.countQuestions}|">
              </td>
          </div>
      </tr>
      </tbody>
  </table>
  </div>
</body>
</html>